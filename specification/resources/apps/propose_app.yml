operationId: propose_app

summary: Propose an App Spec

description: To propose and validate a spec for a new or existing app, send a PUT
  request to the `/v2/apps/propose` endpoint. The request returns some
  information about the proposed app, including app cost and upgrade cost. If
  an existing app ID is specified, the app spec is treated as a proposed update
  to the existing app.

tags:
- Apps

requestBody:
  content:
    application/json:
      schema:
        $ref: models/apps_create_app_request.yml
      example:
        spec:
          name: web-app
          region: nyc
          services:
            - name: api
              github:
                branch: main
                deploy_on_push: true
                repo: digitalocean/sample-golang
              run_command: bin/api
              environment_slug: node-js
              instance_count: 2
              instance_size_slug: basic-xxs
              routes:
                - path: /api
  required: true

responses:
  "200":
    $ref: responses/propose_app.yml

  "401":
    $ref: ../../shared/responses/unauthorized.yml

  "500":
    $ref: ../../shared/responses/server_error.yml

  default:
    $ref: ../../shared/responses/unexpected_error.yml

x-codeSamples:
  - $ref: 'examples/curl/propose_app.yml'
