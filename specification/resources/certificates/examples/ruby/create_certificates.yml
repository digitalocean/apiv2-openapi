lang: Ruby
source: |-
  require 'droplet_kit'
  token = '16f79fc8cd5adcfe528a0994311fa63cc877737b385b6ff7d12ed6684ba4fef5'
  client = DropletKit::Client.new(access_token: token)

  key = File.open('/path/to/privkey1.pem', 'r'){ |file| file.read }
  cert = File.open('/path/to/cert1.pem', 'r'){ |file| file.read }
  chain = File.open('/path/to/fullchain1.pem', 'r'){ |file| file.read }

  certificate = DropletKit::Certificate.new(
      name: 'web-cert-01',
      private_key: key,
      leaf_certificate: cert,
      certificate_chain: chain,
      type: 'custom'
  )

  client.certificates.create(certificate)
